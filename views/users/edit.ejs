<%- include('../partials/header') %>

<div class="container">
    <h1>Edit User: <%= user.name %></h1>
    <% if (typeof error !== 'undefined') { %>
        <p class="error"><%= error %></p>
    <% } %>
    <form action="/users/<%= user._id %>?_method=PUT" method="POST">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" value="<%= user.name %>" required>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="<%= user.email %>" required>
        
        <label for="password">New Password (optional):</label>
        <input type="password" id="password" name="password">
        
        <label for="role">Role:</label>
        <select id="role" name="role">
            <option value="Admin" <%= user.role === 'Admin' ? 'selected' : '' %>>Admin</option>
            <option value="SalesRep" <%= user.role === 'SalesRep' ? 'selected' : '' %>>Sales Rep</option>
            <option value="CampaignManager" <%= user.role === 'CampaignManager' ? 'selected' : '' %>>Campaign Manager</option>
            <option value="Customer" <%= user.role === 'Customer' ? 'selected' : '' %>>Customer</option>
        </select>
        
        <button type="submit">Update User</button>
    </form>
    <a href="/users">Back to Users List</a>
</div>

<%- include('../partials/footer') %> 